{
  "version": "2.0",
  "enabled": true,
  "defaultModel": null,
  "tiers": {
    "light": {
      "models": [
        "glm-4.5-air",
        "glm-4.5-flash",
        "glm-4.7-flash"
      ],
      "strategy": "throughput"
    },
    "medium": {
      "models": [
        "glm-4.6",
        "glm-4.5"
      ],
      "strategy": "balanced"
    },
    "heavy": {
      "models": [
        "glm-5",
        "glm-4.7",
        "glm-4.6"
      ],
      "strategy": "quality"
    }
  },
  "rules": [
    {
      "match": {
        "model": "claude-opus*"
      },
      "tier": "heavy"
    },
    {
      "match": {
        "model": "claude-3-opus*"
      },
      "tier": "heavy"
    },
    {
      "match": {
        "model": "claude-sonnet*"
      },
      "tier": "medium"
    },
    {
      "match": {
        "model": "claude-3-sonnet*"
      },
      "tier": "medium"
    },
    {
      "match": {
        "model": "claude-3-5-sonnet*"
      },
      "tier": "medium"
    },
    {
      "match": {
        "model": "claude-haiku*"
      },
      "tier": "light"
    },
    {
      "match": {
        "model": "claude-3-haiku*"
      },
      "tier": "light"
    },
    {
      "match": {
        "model": "claude-3-5-haiku*"
      },
      "tier": "light"
    },
    {
      "match": {
        "model": "claude-instant*"
      },
      "tier": "light"
    },
    {
      "match": {},
      "tier": "medium"
    }
  ],
  "classifier": {
    "heavyThresholds": {
      "maxTokensGte": 4096,
      "systemLengthGte": 2000,
      "messageCountGte": 20,
      "hasTools": true,
      "hasVision": true
    },
    "lightThresholds": {
      "maxTokensLte": 512,
      "messageCountLte": 3
    }
  },
  "cooldown": {
    "defaultMs": 5000,
    "maxMs": 30000,
    "decayMs": 60000,
    "backoffMultiplier": 2,
    "maxCooldownEntries": 50,
    "burstDampeningFactor": 0.5
  },
  "logDecisions": true,
  "failover": {
    "maxModelSwitchesPerRequest": 3,
    "max429AttemptsPerRequest": 3,
    "max429RetryWindowMs": 15000,
    "allowTierDowngrade": false,
    "downgradeOrder": [
      "medium",
      "light"
    ],
    "maxTierDowngradesPerRequest": 1
  }
}